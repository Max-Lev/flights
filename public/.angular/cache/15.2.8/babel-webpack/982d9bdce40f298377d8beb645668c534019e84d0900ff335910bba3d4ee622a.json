{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class UserToken {}\nUserToken.ɵfac = function UserToken_Factory(t) {\n  return new (t || UserToken)();\n};\nUserToken.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserToken,\n  factory: UserToken.ɵfac,\n  providedIn: 'root'\n});\nexport class Permissions {\n  canLoadChildren(user, id, segments) {\n    debugger;\n    return false;\n  }\n}\nPermissions.ɵfac = function Permissions_Factory(t) {\n  return new (t || Permissions)();\n};\nPermissions.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: Permissions,\n  factory: Permissions.ɵfac,\n  providedIn: 'root'\n});\nexport class CanMatchGuard {\n  constructor(permissions, currentUser) {\n    this.permissions = permissions;\n    this.currentUser = currentUser;\n  }\n  canMatch(route, segments) {\n    debugger;\n    return this.permissions.canLoadChildren(this.currentUser, 'route', segments);\n  }\n}\nCanMatchGuard.ɵfac = function CanMatchGuard_Factory(t) {\n  return new (t || CanMatchGuard)(i0.ɵɵinject(Permissions), i0.ɵɵinject(UserToken));\n};\nCanMatchGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CanMatchGuard,\n  factory: CanMatchGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAKA,OAAM,MAAOA,SAAS;AAATA,SAAS;mBAATA,SAAS;AAAA;AAATA,SAAS;SAATA,SAAS;EAAAC,SAATD,SAAS;EAAAE,YADI;AAAM;AAGhC,OAAM,MAAOC,WAAW;EACtBC,eAAe,CAACC,IAAe,EAAEC,EAAU,EAAEC,QAAsB;IACjE;IACA,OAAO,KAAK;EACd;;AAJWJ,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAF,SAAXE,WAAW;EAAAD,YADE;AAAM;AAYhC,OAAM,MAAOM,aAAa;EACxBC,YAAoBC,WAAwB,EAAUC,WAAsB;IAAxD,gBAAW,GAAXD,WAAW;IAAuB,gBAAW,GAAXC,WAAW;EAEjE;EACAC,QAAQ,CAACC,KAAY,EAAEN,QAAsB;IAC3C;IACA,OAAO,IAAI,CAACG,WAAW,CAACN,eAAe,CAAC,IAAI,CAACO,WAAW,EAAE,OAAO,EAAEJ,QAAQ,CAAC;EAC9E;;AAPWC,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;SAAbA,aAAa;EAAAP,SAAbO,aAAa;EAAAN,YAFZ;AAAM","names":["UserToken","factory","providedIn","Permissions","canLoadChildren","user","id","segments","CanMatchGuard","constructor","permissions","currentUser","canMatch","route"],"sourceRoot":"","sources":["/Users/MaxLevtov/Projects/flights/public/src/app/dashboard/guards/can-match.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanMatch, Route, RouterStateSnapshot, UrlSegment, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class UserToken { }\n@Injectable({ providedIn: 'root' })\nexport class Permissions {\n  canLoadChildren(user: UserToken, id: string, segments: UrlSegment[]): boolean {\n    debugger;\n    return false;\n  }\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CanMatchGuard implements CanMatch {\n  constructor(private permissions: Permissions, private currentUser: UserToken) {\n\n  }\n  canMatch(route: Route, segments: UrlSegment[]): boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\n    debugger;\n    return this.permissions.canLoadChildren(this.currentUser, 'route', segments);\n  }\n  \n  // canActivate(\n  //   route: ActivatedRouteSnapshot,\n  //   state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n  //   return true;\n  // }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}