{"ast":null,"code":"import * as i0 from \"@angular/core\";\nclass UserToken {}\nclass Permissions {\n  canLoadChildren(user, id, segments) {\n    return true;\n  }\n}\nexport class CanLoadGuard {\n  constructor(permissions, currentUser) {\n    this.permissions = permissions;\n    this.currentUser = currentUser;\n  }\n  canLoad(route, segments) {\n    return this.permissions.canLoadChildren(this.currentUser, 'route', segments);\n  }\n}\nCanLoadGuard.ɵfac = function CanLoadGuard_Factory(t) {\n  return new (t || CanLoadGuard)(i0.ɵɵinject(Permissions), i0.ɵɵinject(UserToken));\n};\nCanLoadGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CanLoadGuard,\n  factory: CanLoadGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAIA,MAAMA,SAAS;AACf,MAAMC,WAAW;EACfC,eAAe,CAACC,IAAe,EAAEC,EAAU,EAAEC,QAAsB;IACjE,OAAO,IAAI;EACb;;AAMF,OAAM,MAAOC,YAAY;EACvBC,YAAoBC,WAAwB,EAAUC,WAAsB;IAAxD,gBAAW,GAAXD,WAAW;IAAuB,gBAAW,GAAXC,WAAW;EAAe;EAEhFC,OAAO,CAACC,KAAY,EAAEN,QAAsB;IAC1C,OAAO,IAAI,CAACG,WAAW,CAACN,eAAe,CAAC,IAAI,CAACO,WAAW,EAAE,OAAO,EAAEJ,QAAQ,CAAC;EAC9E;;AALWC,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAAM,SAAZN,YAAY;EAAAO,YAFX;AAAM","names":["UserToken","Permissions","canLoadChildren","user","id","segments","CanLoadGuard","constructor","permissions","currentUser","canLoad","route","factory","providedIn"],"sourceRoot":"","sources":["/Users/MaxLevtov/Projects/flights/public/src/app/dashboard/guards/can-load.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanLoad, Route, RouterStateSnapshot, UrlSegment, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nclass UserToken { }\nclass Permissions {\n  canLoadChildren(user: UserToken, id: string, segments: UrlSegment[]): boolean {\n    return true;\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CanLoadGuard implements CanLoad {\n  constructor(private permissions: Permissions, private currentUser: UserToken) { }\n\n  canLoad(route: Route, segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean {\n    return this.permissions.canLoadChildren(this.currentUser, 'route', segments);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}