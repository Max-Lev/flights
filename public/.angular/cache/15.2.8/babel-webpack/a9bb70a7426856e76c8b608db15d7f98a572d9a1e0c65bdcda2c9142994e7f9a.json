{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class UserToken {}\nUserToken.ɵfac = function UserToken_Factory(t) {\n  return new (t || UserToken)();\n};\nUserToken.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UserToken,\n  factory: UserToken.ɵfac,\n  providedIn: 'root'\n});\nexport class Permissions {\n  canLoadChildren(user, id, segments) {\n    debugger;\n    return false;\n  }\n}\nPermissions.ɵfac = function Permissions_Factory(t) {\n  return new (t || Permissions)();\n};\nPermissions.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: Permissions,\n  factory: Permissions.ɵfac,\n  providedIn: 'root'\n});\nexport class CanLoadGuard {\n  constructor(permissions, currentUser) {\n    this.permissions = permissions;\n    this.currentUser = currentUser;\n  }\n  canLoad(route, segments) {\n    debugger;\n    return this.permissions.canLoadChildren(this.currentUser, 'route', segments);\n  }\n}\nCanLoadGuard.ɵfac = function CanLoadGuard_Factory(t) {\n  return new (t || CanLoadGuard)(i0.ɵɵinject(Permissions), i0.ɵɵinject(UserToken));\n};\nCanLoadGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CanLoadGuard,\n  factory: CanLoadGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAKA,OAAM,MAAOA,SAAS;AAATA,SAAS;mBAATA,SAAS;AAAA;AAATA,SAAS;SAATA,SAAS;EAAAC,SAATD,SAAS;EAAAE,YADI;AAAM;AAGhC,OAAM,MAAOC,WAAW;EACtBC,eAAe,CAACC,IAAe,EAAEC,EAAU,EAAEC,QAAsB;IACjE;IACA,OAAO,KAAK;EACd;;AAJWJ,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAAF,SAAXE,WAAW;EAAAD,YADE;AAAM;AAYhC,OAAM,MAAOM,YAAY;EACvBC,YAAoBC,WAAwB,EAAUC,WAAsB;IAAxD,gBAAW,GAAXD,WAAW;IAAuB,gBAAW,GAAXC,WAAW;EAAe;EAEhFC,OAAO,CAACC,KAAY,EAAEN,QAAsB;IAC1C;IACA,OAAO,IAAI,CAACG,WAAW,CAACN,eAAe,CAAC,IAAI,CAACO,WAAW,EAAE,OAAO,EAAEJ,QAAQ,CAAC;EAC9E;;AANWC,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAAP,SAAZO,YAAY;EAAAN,YAFX;AAAM","names":["UserToken","factory","providedIn","Permissions","canLoadChildren","user","id","segments","CanLoadGuard","constructor","permissions","currentUser","canLoad","route"],"sourceRoot":"","sources":["/Users/MaxLevtov/Projects/flights/public/src/app/dashboard/guards/can-load.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanLoad, Route, RouterStateSnapshot, UrlSegment, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable({ providedIn: 'root' })\nexport class UserToken { }\n@Injectable({ providedIn: 'root' })\nexport class Permissions {\n  canLoadChildren(user: UserToken, id: string, segments: UrlSegment[]): boolean {\n    debugger;\n    return false;\n  }\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CanLoadGuard implements CanLoad {\n  constructor(private permissions: Permissions, private currentUser: UserToken) { }\n\n  canLoad(route: Route, segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean {\n    debugger;\n    return this.permissions.canLoadChildren(this.currentUser, 'route', segments);\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}